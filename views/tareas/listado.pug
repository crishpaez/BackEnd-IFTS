extends ../layout.pug

block content
  h1 Listado de tareas

  if mensajeExito
    script.
      alert("#{mensajeExito}")

  if tareas.length
    table
      thead
        tr
          th ID
          th Título
          th Descripción
          th Estado
          th Acciones
      tbody
        each tarea in tareas
          tr
            td #{tarea._id}
            td #{tarea.titulo}
            td #{tarea.descripcion}
            td #{tarea.estado}
            td
              a(href=`/tareas/editar/${tarea._id}` class='btn-editar') Editar
              form(action=`/tareas/eliminar/${tarea._id}?_method=DELETE`, method='POST', style='display:inline')
                button(type='submit' onclick='return confirm("¿Eliminar esta tarea?")') Eliminar
  else
    p No hay tareas registradas.

  form(action='/tareas/nuevo', method='GET')
    button(type='submit' class='agregar-btn') Crear nueva tarea
